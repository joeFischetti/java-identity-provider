##
## Velocity Template for error end-state
##
## Velocity context will contain the following properties
## flowRequestContext - the Spring Web Flow RequestContext

#if (!$profileRequestContext.isBrowserProfile())
	$flowRequestContext.getExternalContext().getNativeResponse().setStatus(500)
	$flowRequestContext.getExternalContext().getNativeResponse().setContentType('text/xml')
<S:Fault xmlns:S="http://schemas.xmlsoap.org/soap/envelope/">
	<faultcode>S:Server</faultcode>
	<faultstring>SOAP fault</faultstring>
<S:Fault>

#else

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <body>
    
    <h2>ERROR</h2>
## TODO
    #set ($encoder = $flowRequestContext.getRequestScope().get('encoder'))

    #if ( $flowRequestContext.getCurrentEvent() )
            <p>ERROR: $flowRequestContext.getCurrentEvent().getId()</p>
    #end
        
    </body>
</html>

#end